
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Basics of network analysis &#8212; Complexity in social systems</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Erdos-Renyi random networks" href="nb06_random_graphs.html" />
    <link rel="prev" title="&lt;no title&gt;" href="nb04_powerlaw_fitting.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Complexity in social systems</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Coursebook for “Complessita’ nei Sistemi Sociali”
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../1-intro/nb01_Python_Jupyter_notebook.html">
   1. Python is easy :)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1-intro/nb02_data_import_and_networks.html">
   2. Basic network import and representation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Network analysis
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Basics of network analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nb06_random_graphs.html">
   4. Erdos-Renyi random networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nb07_network_assortativity.html">
   5. Network assortativity
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/2-networkx/nb05_network_analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/lordgrilo/complexity-book/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/lordgrilo/complexity-book//issues/new?title=Issue%20on%20page%20%2F2-networkx/nb05_network_analysis.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/lordgrilo/complexity-book/main?urlpath=tree/2-networkx/nb05_network_analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connectivity-and-clustering-of-a-graph">
   3.1. Connectivity and clustering of a graph
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#show-the-components-of-the-graph">
     3.1.1. Show the components of the graph
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-the-largest-connected-component-as-a-subgraph">
     3.1.2. Extract the largest Connected Component as a subgraph
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#global-clustering-coefficient">
   3.2. Global clustering coefficient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#average-clustering-coefficient">
   3.3. Average clustering coefficient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#average-sorthest-path-length">
   3.4. Average sorthest path length
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#warning-calculating-the-shortest-paths-is-intensive">
     3.4.1. Warning! Calculating the shortest paths is intensive!!
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-er-network">
     3.4.2. Compare the results with a random ER network
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-ab-network">
     3.4.3. Compare the results with a random AB network
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-ws-network">
     3.4.4. Compare the results with a random WS network
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#closeness-centrality">
   3.5. Closeness Centrality
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Basics of network analysis</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connectivity-and-clustering-of-a-graph">
   3.1. Connectivity and clustering of a graph
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#show-the-components-of-the-graph">
     3.1.1. Show the components of the graph
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-the-largest-connected-component-as-a-subgraph">
     3.1.2. Extract the largest Connected Component as a subgraph
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#global-clustering-coefficient">
   3.2. Global clustering coefficient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#average-clustering-coefficient">
   3.3. Average clustering coefficient
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#average-sorthest-path-length">
   3.4. Average sorthest path length
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#warning-calculating-the-shortest-paths-is-intensive">
     3.4.1. Warning! Calculating the shortest paths is intensive!!
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-er-network">
     3.4.2. Compare the results with a random ER network
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-ab-network">
     3.4.3. Compare the results with a random AB network
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-the-results-with-a-random-ws-network">
     3.4.4. Compare the results with a random WS network
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#closeness-centrality">
   3.5. Closeness Centrality
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="basics-of-network-analysis">
<h1><span class="section-number">3. </span>Basics of network analysis<a class="headerlink" href="#basics-of-network-analysis" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pylab</span> inline
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>%pylab is deprecated, use %matplotlib inline and import the required libraries.
Populating the interactive namespace from numpy and matplotlib
</pre></div>
</div>
</div>
</div>
<div class="section" id="connectivity-and-clustering-of-a-graph">
<h2><span class="section-number">3.1. </span>Connectivity and clustering of a graph<a class="headerlink" href="#connectivity-and-clustering-of-a-graph" title="Permalink to this headline">¶</a></h2>
<p>We study the network of coauthorships of Astro-Ph, from the SNAP database.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;./../datasets/ca-AstroPh.txt&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>more ./../datasets/cma-AstroPh.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span># Directed graph (each unordered pair of nodes is saved once): CA-AstroPh.txt 
# Collaboration network of Arxiv Astro Physics category (there is an edge if authors coauthored at least one paper)
# Nodes: 18772 Edges: 396160
# FromNodeId    ToNodeId
84424   276
84424   1662
84424   5089
84424   6058
84424   6229
84424   10639
84424   16442
84424   19325
84424   19834
84424   20113
84424   21937
84424   25452
84424   26902
84424   29829
84424   30222
84424   32432
84424   33040
84424   39238
[K[?1l&gt;atasets/ca-AstroPh.txt[m[K
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span>
        <span class="n">origin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">dest</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
<span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The graph has&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">),</span> <span class="s2">&quot;nodes and&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">()),</span> <span class="s2">&quot;edges&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The graph has 18772 nodes and 198110 edges
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;networkx.classes.graph.Graph at 0x14ab90880&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is the graph simply connected?&quot;</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">is_connected</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Is the graph simply connected? False
</pre></div>
</div>
</div>
</div>
<div class="section" id="show-the-components-of-the-graph">
<h3><span class="section-number">3.1.1. </span>Show the components of the graph<a class="headerlink" href="#show-the-components-of-the-graph" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The graph has&quot;</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">number_connected_components</span><span class="p">(</span><span class="n">G</span><span class="p">),</span> <span class="s2">&quot;connected components&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The graph has 290 connected components
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">G</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>17903
2
3
4
8
2
2
4
3
5
3
3
2
2
5
5
2
7
2
3
10
3
4
4
4
2
2
3
6
4
2
4
2
3
2
2
5
4
6
2
2
5
3
2
2
2
2
4
3
2
4
2
3
3
2
3
3
2
3
3
5
3
2
3
5
3
2
3
2
2
3
2
3
4
3
3
3
3
2
5
2
4
2
4
10
2
3
3
3
4
3
2
3
2
2
3
5
2
3
2
3
2
3
2
3
9
2
3
4
3
4
3
3
5
5
2
3
2
2
2
2
2
2
2
3
4
2
2
2
2
2
3
3
2
3
2
2
4
2
2
4
4
3
3
2
2
3
3
3
2
3
2
2
2
2
4
3
2
12
2
3
8
3
2
2
7
4
3
3
2
2
2
2
3
2
3
2
2
3
2
2
3
2
4
2
2
2
2
2
2
2
3
3
2
2
2
4
2
3
2
3
2
4
2
4
2
4
4
2
5
2
2
2
3
2
4
2
2
3
3
3
3
8
2
3
2
2
3
2
2
2
2
4
1
3
2
2
2
2
3
2
2
3
2
2
2
2
3
2
2
5
2
4
2
6
18
3
2
3
3
2
2
3
4
2
2
4
3
3
4
7
5
2
3
3
2
2
4
2
4
2
2
2
2
2
2
2
3
2
2
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="extract-the-largest-connected-component-as-a-subgraph">
<h3><span class="section-number">3.1.2. </span>Extract the largest Connected Component as a subgraph<a class="headerlink" href="#extract-the-largest-connected-component-as-a-subgraph" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;generator object connected_components at 0x14ac04190&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graphs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">graphs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>17903
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>869
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check that the graph is now connected&quot;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">is_connected</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Check that the graph is now connected
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="global-clustering-coefficient">
<h2><span class="section-number">3.2. </span>Global clustering coefficient<a class="headerlink" href="#global-clustering-coefficient" title="Permalink to this headline">¶</a></h2>
<p>The global clustering coefficient measures the number of triangles in the network and it’s defined as:</p>
<center>
$C_\Delta = \frac{3 \times \text{triangles}}{\text{triplets}}$
</center> <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">triangles</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{84424: 210,
 276: 54,
 1662: 218,
 5089: 1,
 6058: 918,
 6229: 107,
 10639: 820,
 16442: 137,
 19325: 828,
 19834: 3,
 20113: 44,
 21937: 13,
 25452: 1906,
 26902: 3,
 29829: 11,
 30222: 506,
 32432: 128,
 33040: 2759,
 39238: 16,
 39521: 1793,
 41418: 487,
 45009: 2384,
 45098: 189,
 45242: 702,
 47005: 27,
 47968: 5646,
 47999: 148,
 49934: 360,
 50220: 44,
 50897: 1594,
 51730: 1,
 53681: 23,
 57537: 10,
 58458: 10,
 59326: 158,
 61571: 354,
 63552: 934,
 64124: 76,
 64568: 1587,
 66200: 73,
 69839: 101,
 72391: 11,
 73543: 537,
 76259: 205,
 77098: 423,
 77915: 8,
 78627: 396,
 83560: 1145,
 85420: 236,
 88768: 15,
 89131: 6,
 89308: 117,
 89994: 72,
 90506: 121,
 91060: 236,
 92387: 32,
 93296: 143,
 94138: 513,
 94329: 113,
 95070: 11,
 95531: 285,
 96570: 114,
 97101: 32,
 98506: 491,
 99104: 3003,
 104802: 1907,
 106611: 526,
 107829: 412,
 109016: 29,
 112605: 623,
 117751: 41,
 122908: 295,
 124023: 89,
 125190: 1,
 130825: 42,
 132445: 1246,
 560: 3,
 15829: 50,
 42972: 1001,
 55528: 1,
 57618: 142,
 60310: 1,
 63707: 90,
 63769: 110,
 68320: 22,
 75607: 780,
 92552: 650,
 93762: 68,
 93889: 29,
 95860: 49,
 96909: 41,
 99870: 1409,
 112293: 84,
 113138: 1104,
 116343: 45,
 116453: 104,
 118859: 233,
 121831: 111,
 122003: 5,
 123268: 28,
 125345: 172,
 127886: 5187,
 129530: 187,
 129910: 45,
 132104: 57,
 2175: 9,
 3365: 1081,
 4279: 7,
 4930: 41,
 5335: 3028,
 8445: 46,
 9039: 378,
 10976: 4324,
 11050: 73,
 11580: 12,
 19204: 1930,
 23986: 6157,
 24075: 969,
 26526: 58,
 28516: 4399,
 28787: 486,
 31404: 5,
 33777: 13,
 34608: 6711,
 35729: 71,
 36907: 5282,
 37861: 0,
 38921: 1102,
 42512: 11,
 42994: 1248,
 44011: 122,
 46847: 2251,
 47856: 2318,
 50991: 0,
 52870: 30,
 53890: 1201,
 55233: 462,
 56117: 108,
 58532: 17,
 59151: 1000,
 59173: 79,
 60390: 378,
 61461: 1429,
 61472: 4,
 61686: 543,
 61929: 147,
 62496: 555,
 64054: 4975,
 65114: 1377,
 65794: 20,
 66766: 14,
 68639: 195,
 69582: 999,
 70618: 548,
 72233: 386,
 72941: 1590,
 74612: 18,
 77580: 629,
 79936: 187,
 83003: 642,
 84150: 0,
 87214: 1003,
 87237: 130,
 92504: 7,
 94235: 6826,
 95822: 2152,
 101953: 196,
 105827: 110,
 110499: 23,
 112243: 0,
 115344: 35,
 118103: 1133,
 118630: 382,
 118958: 51,
 120454: 400,
 126152: 81,
 130165: 380,
 63225: 42,
 2969: 1,
 8744: 28,
 19113: 41,
 20188: 0,
 23579: 11,
 26065: 15,
 27281: 76,
 30400: 18,
 30864: 19,
 39902: 166,
 42077: 5,
 49633: 1,
 57772: 1052,
 59444: 10,
 65213: 7,
 69459: 3,
 99504: 15,
 104589: 479,
 106833: 85,
 110210: 430,
 113335: 15,
 118286: 10,
 120586: 32,
 121399: 1832,
 121988: 68,
 122460: 18,
 127393: 216,
 4526: 11,
 15406: 142,
 17485: 376,
 22055: 8,
 25095: 132,
 26713: 1541,
 29421: 599,
 31334: 1369,
 38861: 193,
 39298: 1954,
 40400: 2,
 43227: 685,
 45858: 131,
 51604: 3,
 51631: 586,
 52480: 59,
 55508: 120,
 65713: 2256,
 66511: 516,
 67988: 154,
 68577: 106,
 68629: 28,
 69935: 82,
 70637: 853,
 71296: 58,
 71722: 2,
 78060: 409,
 78070: 357,
 79077: 8,
 86411: 429,
 91401: 1762,
 92357: 1405,
 93661: 23,
 98621: 822,
 100099: 1666,
 102617: 1939,
 106954: 21,
 107534: 671,
 107797: 320,
 107933: 260,
 112779: 206,
 112903: 22,
 115420: 205,
 117953: 875,
 123695: 62,
 124913: 238,
 131639: 55,
 132766: 2,
 106274: 3070,
 811: 490,
 1086: 3006,
 2158: 1880,
 3335: 36,
 4239: 4132,
 5099: 33,
 5866: 888,
 5959: 422,
 6358: 859,
 6540: 231,
 7026: 859,
 8381: 846,
 8583: 1922,
 8833: 2055,
 10426: 1493,
 12203: 269,
 13219: 410,
 14651: 922,
 14859: 1637,
 15223: 506,
 16043: 351,
 16400: 921,
 16434: 1068,
 17549: 36,
 17756: 196,
 18007: 610,
 18344: 36,
 19383: 1927,
 20296: 948,
 21192: 554,
 21718: 8186,
 21728: 843,
 21729: 171,
 22070: 683,
 27862: 2529,
 28128: 1769,
 28210: 1460,
 29606: 1489,
 30422: 22,
 30502: 496,
 30625: 535,
 32595: 473,
 33659: 36,
 34945: 635,
 35290: 7065,
 35302: 91,
 35638: 153,
 36814: 1067,
 37179: 1007,
 38109: 9008,
 38898: 447,
 38966: 4793,
 39696: 2308,
 40649: 289,
 40745: 207,
 41473: 1005,
 42366: 899,
 42551: 1820,
 43850: 1835,
 44022: 36,
 44183: 1441,
 44237: 198,
 47128: 1119,
 48423: 582,
 49689: 902,
 51306: 601,
 51587: 1164,
 51588: 253,
 52412: 740,
 52682: 4197,
 53056: 362,
 53213: 11269,
 55066: 363,
 55085: 919,
 55999: 1880,
 56361: 104,
 57961: 844,
 60088: 893,
 60471: 2212,
 61892: 25,
 62459: 834,
 66006: 540,
 67410: 3315,
 67670: 252,
 67716: 1894,
 68363: 2270,
 69493: 676,
 70950: 839,
 71801: 1401,
 72114: 109,
 72380: 402,
 74225: 153,
 74361: 926,
 75690: 2223,
 76706: 1521,
 76749: 2673,
 76854: 1537,
 77019: 1105,
 77152: 193,
 77208: 579,
 79379: 346,
 80218: 499,
 80782: 964,
 82347: 777,
 82704: 2003,
 84122: 4490,
 86202: 1995,
 86721: 829,
 87325: 1322,
 88348: 407,
 89588: 1213,
 89969: 1200,
 93101: 380,
 93271: 2154,
 94560: 35,
 95036: 2947,
 95261: 28,
 95911: 1330,
 96786: 462,
 97012: 89,
 99023: 1835,
 99239: 2134,
 100394: 2275,
 100461: 867,
 100717: 820,
 102653: 621,
 103169: 1306,
 104241: 598,
 105680: 3343,
 106763: 1432,
 107846: 1397,
 108722: 302,
 109056: 253,
 111385: 1950,
 111660: 1041,
 111709: 2061,
 112157: 2382,
 112695: 1113,
 112848: 1861,
 113726: 858,
 113825: 671,
 114249: 954,
 115209: 3395,
 115281: 206,
 115607: 3644,
 115700: 307,
 116194: 21,
 116337: 1529,
 118896: 779,
 119042: 36,
 119664: 1682,
 120199: 1889,
 120618: 2541,
 121461: 465,
 122425: 1180,
 122495: 827,
 123233: 485,
 125226: 871,
 125267: 824,
 125557: 338,
 125678: 1090,
 125766: 77,
 125774: 312,
 126948: 643,
 127225: 259,
 127274: 455,
 127816: 670,
 129273: 1271,
 129410: 899,
 129483: 509,
 131234: 940,
 131592: 820,
 1513: 28,
 4851: 332,
 4893: 36,
 6256: 1654,
 11727: 56,
 12494: 117,
 14382: 17,
 18042: 42,
 26219: 853,
 27124: 284,
 31235: 180,
 33883: 362,
 35703: 117,
 37378: 1291,
 41567: 397,
 43405: 152,
 48115: 464,
 48267: 184,
 54771: 1512,
 65484: 116,
 65610: 54,
 68921: 540,
 79758: 100,
 82866: 179,
 87294: 2594,
 92001: 195,
 95855: 6,
 101422: 47,
 105901: 710,
 106176: 425,
 107608: 197,
 108944: 189,
 111957: 723,
 112410: 37,
 119031: 529,
 119480: 412,
 121026: 1868,
 124998: 106,
 125365: 696,
 128934: 36,
 131519: 77,
 131914: 94,
 132206: 646,
 2689: 276,
 2760: 276,
 4148: 525,
 6374: 38,
 6934: 78,
 10767: 47,
 15921: 431,
 15973: 870,
 16035: 446,
 18257: 81,
 18505: 79,
 20775: 145,
 22036: 78,
 23453: 3468,
 23638: 279,
 26849: 82,
 29228: 78,
 31097: 88,
 31931: 78,
 37918: 206,
 38977: 282,
 42886: 679,
 43737: 168,
 44244: 286,
 47735: 140,
 54608: 320,
 59069: 518,
 60427: 15,
 68381: 727,
 82214: 297,
 93583: 276,
 93984: 327,
 95072: 6,
 97387: 373,
 101326: 4,
 101994: 780,
 112383: 285,
 115063: 276,
 117676: 442,
 118912: 875,
 121209: 91,
 128878: 276,
 131320: 489,
 17737: 0,
 9648: 4,
 16793: 0,
 27573: 7,
 28827: 3,
 37818: 1,
 54011: 6,
 56224: 1,
 71157: 11,
 87601: 0,
 119665: 1,
 122165: 1,
 122336: 1,
 130188: 1,
 47255: 5,
 38313: 30,
 50634: 1,
 76014: 23,
 76026: 635,
 84047: 3,
 86017: 0,
 103432: 1,
 109229: 180,
 122293: 1,
 130391: 195,
 48541: 3,
 48546: 502,
 58486: 531,
 58719: 22,
 64569: 1,
 71627: 8,
 73308: 23,
 80089: 58,
 80534: 3,
 84851: 843,
 86063: 3,
 93360: 214,
 116725: 3,
 116919: 13,
 1968: 184,
 17447: 264,
 29301: 283,
 36197: 239,
 43161: 153,
 43731: 153,
 56031: 490,
 57916: 153,
 61859: 8,
 62844: 153,
 63840: 11,
 72171: 3,
 78024: 471,
 79455: 477,
 85941: 6,
 85993: 3,
 95051: 163,
 95109: 169,
 99717: 1034,
 110812: 235,
 111014: 175,
 111916: 7,
 117311: 6,
 122105: 159,
 122740: 197,
 124653: 166,
 130921: 24,
 17097: 821,
 1500: 212,
 3377: 618,
 3420: 1331,
 5088: 353,
 5665: 941,
 6331: 436,
 7520: 373,
 8332: 573,
 8912: 257,
 9103: 1331,
 10479: 728,
 12600: 564,
 14783: 547,
 16042: 522,
 18553: 529,
 19695: 527,
 20598: 1220,
 21333: 19,
 22767: 1767,
 22833: 656,
 34097: 285,
 35020: 1177,
 35452: 171,
 39597: 637,
 46229: 1198,
 54239: 698,
 63399: 21,
 65895: 22,
 70035: 560,
 71482: 869,
 71602: 736,
 73216: 668,
 73714: 59,
 75761: 530,
 76529: 329,
 76830: 708,
 77194: 673,
 78328: 1348,
 78777: 364,
 78800: 519,
 79552: 1334,
 91772: 234,
 91787: 140,
 91843: 954,
 93530: 652,
 94267: 200,
 95558: 787,
 96429: 368,
 97491: 671,
 97815: 606,
 100548: 523,
 104544: 913,
 105528: 929,
 105725: 42,
 107436: 1048,
 110773: 75,
 114530: 1984,
 120321: 650,
 123670: 1027,
 131704: 1718,
 133062: 970,
 97966: 3,
 18877: 1,
 33380: 12,
 80396: 3,
 84299: 30,
 108170: 22,
 112976: 2,
 12890: 34,
 23769: 17,
 31638: 87,
 39339: 9,
 51539: 33,
 61974: 42,
 87885: 211,
 123201: 41,
 5412: 3,
 20664: 14,
 39978: 0,
 110535: 3,
 13353: 55,
 242: 3,
 680: 21,
 1418: 6,
 14706: 10,
 17837: 2421,
 24682: 81,
 26624: 27,
 29131: 6,
 30601: 2,
 30614: 9,
 34051: 39,
 35317: 14,
 38226: 61,
 42327: 2,
 45826: 1,
 46803: 1,
 50264: 14,
 52497: 3,
 56970: 1,
 58023: 40,
 60078: 1,
 68322: 6,
 68830: 8,
 68950: 284,
 70804: 4,
 71583: 3,
 72370: 125,
 72441: 3,
 72444: 2,
 74787: 122,
 75665: 3,
 78370: 1,
 80482: 3,
 80823: 2,
 80960: 5,
 82947: 27,
 83877: 1,
 88082: 69,
 92276: 5,
 96326: 23,
 98853: 111,
 100536: 39,
 109585: 2,
 109894: 63,
 112256: 12,
 120094: 3,
 120169: 4,
 127688: 4,
 131741: 4,
 132492: 1480,
 132691: 2,
 13640: 2,
 26731: 4,
 28273: 3,
 47881: 3,
 59716: 27,
 68758: 4,
 74685: 1,
 92281: 3,
 93585: 3,
 97683: 15,
 113717: 8,
 119757: 4,
 123558: 3,
 118675: 36,
 4932: 139,
 8053: 702,
 11020: 17,
 12924: 214,
 35111: 67,
 38185: 18,
 44467: 150,
 48243: 18,
 57276: 13,
 58633: 79,
 65657: 19,
 75731: 115,
 79176: 17,
 105955: 40,
 113867: 39,
 125136: 61,
 8546: 35,
 9522: 7,
 18079: 97,
 20129: 3,
 23626: 2776,
 50316: 27,
 55462: 56,
 55675: 13,
 59052: 19,
 67060: 327,
 67618: 1006,
 70981: 0,
 76641: 3,
 86126: 11,
 87760: 48,
 101610: 166,
 107618: 25,
 109192: 17,
 114995: 0,
 120732: 167,
 122852: 91,
 128685: 1229,
 291: 196,
 3998: 107,
 4959: 1329,
 6619: 21,
 12328: 1600,
 16693: 69,
 25625: 1,
 26474: 3,
 34218: 23,
 34862: 1525,
 34928: 8,
 38868: 4,
 41140: 271,
 47237: 1487,
 55155: 1746,
 57559: 26,
 57974: 4,
 61750: 6,
 66826: 1406,
 71861: 3,
 75546: 30,
 83393: 21,
 85862: 2,
 86460: 236,
 90269: 21,
 91858: 28,
 95291: 4,
 95680: 39,
 97431: 1095,
 97788: 108,
 99613: 32,
 101271: 21,
 102475: 0,
 102874: 95,
 104466: 6,
 106392: 152,
 110670: 109,
 111496: 2053,
 114677: 1350,
 128657: 230,
 128732: 1095,
 129683: 908,
 130919: 36,
 24527: 108,
 25831: 16,
 28623: 784,
 30018: 29,
 37519: 28,
 43765: 1065,
 44674: 77,
 56205: 27,
 68941: 308,
 91247: 0,
 94743: 78,
 98712: 32,
 118945: 14,
 59946: 46,
 66875: 91,
 126260: 1,
 35690: 781,
 2478: 1771,
 2736: 2355,
 4679: 1988,
 4786: 3053,
 5746: 1,
 5979: 325,
 6387: 366,
 7208: 331,
 8978: 524,
 9049: 28,
 11513: 1267,
 14149: 3544,
 16884: 55,
 24128: 353,
 25329: 3834,
 27242: 69,
 33351: 1806,
 37907: 2231,
 38413: 2206,
 40208: 748,
 44790: 222,
 45732: 906,
 47674: 490,
 49486: 3361,
 50163: 581,
 50808: 5103,
 53219: 360,
 54681: 3936,
 55554: 3,
 55602: 1997,
 56184: 314,
 56302: 1018,
 61574: 3,
 65337: 4088,
 70366: 1487,
 71040: 3067,
 77480: 3423,
 77999: 605,
 79811: 573,
 80988: 175,
 83171: 1845,
 85668: 55,
 85740: 3538,
 92810: 619,
 93624: 2092,
 96525: 144,
 97471: 190,
 99798: 18,
 100181: 580,
 100237: 156,
 101520: 445,
 105651: 296,
 108958: 609,
 111161: 6457,
 112453: 375,
 113591: 1093,
 117816: 26,
 121653: 51,
 121655: 15,
 124529: 2813,
 126451: 868,
 126916: 3154,
 128381: 325,
 128985: 36,
 129458: 595,
 130997: 5373,
 1155: 2522,
 1324: 3217,
 1334: 484,
 1663: 1540,
 1776: 3330,
 2094: 3232,
 5453: 1555,
 6443: 231,
 6548: 370,
 7083: 1614,
 7205: 3755,
 7264: 3115,
 8273: 3856,
 8305: 190,
 9048: 360,
 10914: 1276,
 11799: 5596,
 19066: 2289,
 19674: 1002,
 21530: 527,
 21560: 442,
 23457: 171,
 25850: 409,
 28577: 2580,
 29489: 1492,
 32202: 1386,
 34110: 791,
 36781: 1471,
 36833: 1524,
 37479: 4185,
 39264: 992,
 40242: 1416,
 40495: 2257,
 41554: 1533,
 42092: 1529,
 43051: 511,
 43601: 2369,
 44434: 1976,
 44785: 3365,
 45637: 549,
 46415: 1408,
 48507: 1149,
 48703: 3163,
 49258: 1550,
 51121: 687,
 51697: 2516,
 56221: 1516,
 56933: 2531,
 57156: 4234,
 58278: 3683,
 58926: 218,
 59843: 1030,
 59861: 2980,
 60211: 1684,
 60576: 1540,
 62842: 379,
 62855: 1540,
 64374: 1276,
 66522: 409,
 66553: 933,
 67299: 3944,
 67755: 253,
 70099: 967,
 70339: 1540,
 73589: 2300,
 74570: 3857,
 75947: 6515,
 77373: 441,
 80186: 3383,
 80187: 171,
 80429: 436,
 80561: 1542,
 82020: 0,
 83351: 4834,
 85009: 1667,
 88155: 1794,
 92092: 1036,
 92790: 8357,
 95179: 1515,
 95765: 3312,
 95934: 979,
 97249: 4756,
 97320: 3357,
 99086: 1868,
 99131: 105,
 99539: 1579,
 99825: 1804,
 100621: 3,
 100930: 1373,
 101167: 3414,
 101641: 312,
 102282: 414,
 103290: 714,
 104749: 2372,
 105049: 2917,
 106945: 1057,
 107877: 3566,
 110402: 1379,
 114352: 2914,
 115480: 3788,
 115796: 153,
 115900: 4620,
 119515: 3029,
 122753: 190,
 122787: 3086,
 125954: 2915,
 126258: 85,
 128641: 1004,
 130519: 2973,
 130853: 2973,
 131221: 2488,
 ...}
</pre></div>
</div>
</div>
</div>
<p>How many triangles are there in the whole network?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tt</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">triangles</span><span class="p">(</span><span class="n">H</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tt</span> <span class="o">/</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1350014.0
</pre></div>
</div>
</div>
</div>
<p>The transitivity is the fraction of all possible triangles in the network.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">transitivity</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.31777791273391154
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="average-clustering-coefficient">
<h2><span class="section-number">3.3. </span>Average clustering coefficient<a class="headerlink" href="#average-clustering-coefficient" title="Permalink to this headline">¶</a></h2>
<p>As an alternative to the global clustering coefficient, the overall level of clustering in a network is measured by Watts and Strogatz as the average of the local clustering coefficients of all the vertices <span class="math notranslate nohighlight">\(n\)</span>:</p>
<center>
$\bar{C} = \frac{1}{n}\sum_{i=1}^{n} C_i.$
</center>
<p>It is worth noting that this metric places more weight on the low degree nodes, while the transitivity ratio places more weight on the high degree nodes. In fact, a weighted average where each local clustering score is weighted by <span class="math notranslate nohighlight">\(k_i(k_i-1)\)</span> is identical to the global clustering coefficient.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The average clustering coefficient of H is&quot;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">average_clustering</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The average clustering coefficient of H is
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.6328232091518589
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="average-sorthest-path-length">
<h2><span class="section-number">3.4. </span>Average sorthest path length<a class="headerlink" href="#average-sorthest-path-length" title="Permalink to this headline">¶</a></h2>
<div class="section" id="warning-calculating-the-shortest-paths-is-intensive">
<h3><span class="section-number">3.4.1. </span>Warning! Calculating the shortest paths is intensive!!<a class="headerlink" href="#warning-calculating-the-shortest-paths-is-intensive" title="Permalink to this headline">¶</a></h3>
<p>The graph is small world.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">average_shortest_path_length</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [32],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nx</span><span class="o">.</span><span class="n">average_shortest_path_length</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/algorithms/shortest_paths/generic.py:417,</span> in <span class="ni">average_shortest_path_length</span><span class="nt">(G, weight, method)</span>
<span class="g g-Whitespace">    </span><span class="mi">413</span>         <span class="k">return</span> <span class="n">nx</span><span class="o">.</span><span class="n">single_source_bellman_ford_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="n">weight</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">415</span> <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">single_source_methods</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">416</span>     <span class="c1"># Sum the distances for each (ordered) pair of source and target node.</span>
<span class="nn">--&gt; 417     s = sum(l for u in G for l</span> in <span class="ni">path_length(u).values</span><span class="nt">())</span>
<span class="g g-Whitespace">    </span><span class="mi">418</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">419</span>     <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;floyd-warshall&quot;</span><span class="p">:</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/algorithms/shortest_paths/generic.py:417,</span> in <span class="ni">&lt;genexpr&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">    </span><span class="mi">413</span>         <span class="k">return</span> <span class="n">nx</span><span class="o">.</span><span class="n">single_source_bellman_ford_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="n">weight</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">415</span> <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">single_source_methods</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">416</span>     <span class="c1"># Sum the distances for each (ordered) pair of source and target node.</span>
<span class="nn">--&gt; 417     s = sum(l for u in G for l</span> in <span class="ni">path_length(u).values</span><span class="nt">())</span>
<span class="g g-Whitespace">    </span><span class="mi">418</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">419</span>     <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;floyd-warshall&quot;</span><span class="p">:</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/algorithms/shortest_paths/generic.py:409,</span> in <span class="ni">average_shortest_path_length.&lt;locals&gt;.path_length</span><span class="nt">(v)</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span> <span class="k">def</span> <span class="nf">path_length</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">408</span>     <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;unweighted&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">409</span>         <span class="k">return</span> <span class="n">nx</span><span class="o">.</span><span class="n">single_source_shortest_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span>     <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;dijkstra&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">411</span>         <span class="k">return</span> <span class="n">nx</span><span class="o">.</span><span class="n">single_source_dijkstra_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="n">weight</span><span class="p">)</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/algorithms/shortest_paths/unweighted.py:59,</span> in <span class="ni">single_source_shortest_path_length</span><span class="nt">(G, source, cutoff)</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span>     <span class="n">cutoff</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span> <span class="n">nextlevel</span> <span class="o">=</span> <span class="p">{</span><span class="n">source</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="ne">---&gt; </span><span class="mi">59</span> <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_single_shortest_path_length</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">,</span> <span class="n">nextlevel</span><span class="p">,</span> <span class="n">cutoff</span><span class="p">))</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/algorithms/shortest_paths/unweighted.py:91,</span> in <span class="ni">_single_shortest_path_length</span><span class="nt">(adj, firstlevel, cutoff)</span>
<span class="g g-Whitespace">     </span><span class="mi">89</span>         <span class="k">return</span>
<span class="g g-Whitespace">     </span><span class="mi">90</span>     <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">91</span>         <span class="n">nextlevel</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">adj</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
<span class="g g-Whitespace">     </span><span class="mi">92</span>     <span class="n">level</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="g g-Whitespace">     </span><span class="mi">93</span> <span class="k">del</span> <span class="n">seen</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/classes/coreviews.py:82,</span> in <span class="ni">AdjacencyView.__getitem__</span><span class="nt">(self, name)</span>
<span class="g g-Whitespace">     </span><span class="mi">81</span> <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">82</span>     <span class="k">return</span> <span class="n">AtlasView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_atlas</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>

<span class="nn">File ~/.virtualenvs/stenv/lib/python3.9/site-packages/networkx/classes/coreviews.py:334,</span> in <span class="ni">FilterAdjacency.__getitem__</span><span class="nt">(self, node)</span>
<span class="g g-Whitespace">    </span><span class="mi">333</span> <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">334</span>     <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_atlas</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">NODE_OK</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">336</span>         <span class="k">def</span> <span class="nf">new_node_ok</span><span class="p">(</span><span class="n">nbr</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">337</span>             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">NODE_OK</span><span class="p">(</span><span class="n">nbr</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">EDGE_OK</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">nbr</span><span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.2529258116658
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compare-the-results-with-a-random-er-network">
<h3><span class="section-number">3.4.2. </span>Compare the results with a random ER network<a class="headerlink" href="#compare-the-results-with-a-random-er-network" title="Permalink to this headline">¶</a></h3>
<p>We generate a random Erdos-Renyi graph with same average connectivity of H, i.e. same number of nodes and edges.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nnodes</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">plink</span> <span class="o">=</span> <span class="mf">0.0122</span>

<span class="n">ER</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">fast_gnp_random_graph</span><span class="p">(</span><span class="n">nnodes</span><span class="p">,</span> <span class="n">plink</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">is_connected</span><span class="p">(</span><span class="n">ER</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The ER graph has&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">ER</span><span class="p">),</span> <span class="s2">&quot;nodes&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">ER</span><span class="o">.</span><span class="n">edges</span><span class="p">()),</span> <span class="s2">&quot;edges&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The ER graph has 2000 nodes
and 24377 edges
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The average clustering coefficient of ER is&quot;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">average_clustering</span><span class="p">(</span><span class="n">ER</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The average clustering coefficient of ER is
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.012613883478746453
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">triangles</span><span class="p">(</span><span class="n">ER</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2477.0
</pre></div>
</div>
</div>
</div>
<p>The ER graph is also small world!</p>
<p>The average shortest path scales approximately with the logarithm of the number of nodes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">average_shortest_path_length</span><span class="p">(</span><span class="n">ER</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.724698349174587
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ER</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.301029995663981
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compare-the-results-with-a-random-ab-network">
<h3><span class="section-number">3.4.3. </span>Compare the results with a random AB network<a class="headerlink" href="#compare-the-results-with-a-random-ab-network" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">AB</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">barabasi_albert_graph</span><span class="p">(</span><span class="mi">18000</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The AB graph has&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AB</span><span class="p">),</span> <span class="s2">&quot;nodes&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AB</span><span class="o">.</span><span class="n">edges</span><span class="p">()),</span> <span class="s2">&quot;edges&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">degrees</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">AB</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">powerlaw</span> <span class="k">as</span> <span class="nn">pwl</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">AB</span><span class="p">))</span>


<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="n">pwl</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">degrees</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$k$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;$P(k)$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mf">0.0000001</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fit_function</span> <span class="o">=</span> <span class="n">pwl</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">degrees</span><span class="p">),</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fit_function</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">alpha</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fit_function</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">sigma</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fit_function</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">xmin</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The average clustering coefficient of AB is&quot;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">average_clustering</span><span class="p">(</span><span class="n">AB</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The number of triangles is &quot;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">triangles</span><span class="p">(</span><span class="n">AB</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The AB network is also small-world.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">average_shortest_path_length</span><span class="p">(</span><span class="n">AB</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">AB</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compare-the-results-with-a-random-ws-network">
<h3><span class="section-number">3.4.4. </span>Compare the results with a random WS network<a class="headerlink" href="#compare-the-results-with-a-random-ws-network" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">WS</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_watts_strogatz_graph</span><span class="p">(</span><span class="mi">18000</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The WS graph has&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">WS</span><span class="p">),</span> <span class="s2">&quot;nodes&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">WS</span><span class="o">.</span><span class="n">edges</span><span class="p">()),</span> <span class="s2">&quot;edges&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">is_connected</span><span class="p">(</span><span class="n">WS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ws_degrees</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">WS</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ws_degrees</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$k$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;$Freq.$&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The average clustering coefficient of WS is&quot;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">average_clustering</span><span class="p">(</span><span class="n">WS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The Watt-Strogatz network is still small-world but with high clustering.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">average_shortest_path_length</span><span class="p">(</span><span class="n">WS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">WS</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="closeness-centrality">
<h2><span class="section-number">3.5. </span>Closeness Centrality<a class="headerlink" href="#closeness-centrality" title="Permalink to this headline">¶</a></h2>
<p>In connected graphs there is a natural distance metric between all pairs of nodes, defined by the length of their shortest paths.
The ‘’’farness’’’ of a node ‘’x’’ is defined as the sum of its distances from all other nodes, and its closeness was defined by Bavelas as the reciprocal of the farness that is:</p>
<center>
$C(x)= \frac{1}{\sum_y d(y,x)}.$
</center>
<p>Thus, the more central a node is the lower its total distance from all other nodes. Note that taking distances ‘’from’’ or ‘’to’’ all other nodes is irrelevant in undirected graphs, whereas in directed graphs distances ‘’to’’ a node are considered a more meaningful measure of centrality, as in general (e.g., in, the web) a node has little control over its incoming links.</p>
<p><strong>Be careful! Computing all the distances between pair of nodes can be intensive.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">close_centr</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">closeness_centrality</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="mi">84424</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">close_centr</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "lordgrilo/complexity-book",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "stenv"
        },
        kernelOptions: {
            kernelName: "stenv",
            path: "./2-networkx"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'stenv'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="nb04_powerlaw_fitting.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">&lt;no title&gt;</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="nb06_random_graphs.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Erdos-Renyi random networks</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By G. Petri, M. Lucas<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>